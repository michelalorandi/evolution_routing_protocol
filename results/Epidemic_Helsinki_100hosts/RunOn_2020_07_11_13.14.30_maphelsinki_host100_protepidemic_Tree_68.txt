if(or(notEqual(notEqual(notEqual(notEqual(not(canStartTransfer),not(isTransferring)),isTransferring),not(isTransferring)),notEqual(notEqual(isTransferring,canStartTransfer),not(isTransferring))),or(or(not(canStartTransfer),not(canStartTransfer)),notEqual(or(isTransferring,isTransferring),not(isTransferring)))),if(or(notEqual(or(isTransferring,canStartTransfer),notEqual(isTransferring,canStartTransfer)),or(or(canStartTransfer,canStartTransfer),or(isTransferring,isTransferring))),add(if(isTransferring,tryAllMessagesToAllConnections),add(add(update,exchangeDeliverableMessages),if(isTransferring,update)))))