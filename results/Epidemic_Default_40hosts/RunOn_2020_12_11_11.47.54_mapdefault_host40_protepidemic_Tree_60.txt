add(if(not(or(notEqual(not(isTransferring),notEqual(isTransferring,canStartTransfer)),notEqual(canStartTransfer,isTransferring))),add(add(add(exchangeDeliverableMessages,tryAllMessagesToAllConnections),if(isTransferring,update)),add(if(or(canStartTransfer,canStartTransfer),add(tryAllMessagesToAllConnections,tryAllMessagesToAllConnections)),add(if(canStartTransfer,update),if(isTransferring,tryAllMessagesToAllConnections))))),if(or(notEqual(notEqual(canStartTransfer,isTransferring),or(isTransferring,isTransferring)),or(notEqual(canStartTransfer,isTransferring),not(canStartTransfer))),if(or(notEqual(canStartTransfer,isTransferring),notEqual(canStartTransfer,isTransferring)),if(notEqual(isTransferring,canStartTransfer),add(if(isTransferring,return),add(if(or(canStartTransfer,canStartTransfer),add(exchangeDeliverableMessages,return)),add(if(isTransferring,return),if(isTransferring,tryAllMessagesToAllConnections))))))))