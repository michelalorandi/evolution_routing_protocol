if(not(notEqual(or(notEqual(not(or(notEqual(isTransferring,canStartTransfer),notEqual(isTransferring,isTransferring))),canStartTransfer),not(isTransferring)),or(notEqual(canStartTransfer,isTransferring),notEqual(canStartTransfer,isTransferring)))),if(or(or(notEqual(canStartTransfer,notEqual(or(isTransferring,isTransferring),notEqual(canStartTransfer,canStartTransfer))),or(canStartTransfer,canStartTransfer)),notEqual(notEqual(isTransferring,isTransferring),or(canStartTransfer,isTransferring))),add(add(if(isTransferring,tryAllMessagesToAllConnections),if(canStartTransfer,exchangeDeliverableMessages)),if(not(isTransferring),add(exchangeDeliverableMessages,return)))))