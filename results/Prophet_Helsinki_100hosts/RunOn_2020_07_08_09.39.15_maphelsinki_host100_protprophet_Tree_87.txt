if(notEqual(or(notEqual(not(isTransferring),or(canStartTransfer,not(notEqual(isTransferring,canStartTransfer)))),canStartTransfer),not(or(not(canStartTransfer),or(canStartTransfer,canStartTransfer)))),add(if(not(notEqual(isTransferring,canStartTransfer)),if(or(canStartTransfer,isTransferring),add(tryAllMessagesToAllConnections,update))),if(or(not(isTransferring),or(canStartTransfer,isTransferring)),add(add(update,exchangeDeliverableMessages),add(update,if(not(notEqual(isTransferring,canStartTransfer)),add(if(canStartTransfer,update),add(tryOtherMessages,tryOtherMessages))))))))