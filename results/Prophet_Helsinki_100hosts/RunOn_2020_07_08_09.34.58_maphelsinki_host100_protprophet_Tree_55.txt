add(add(add(if(not(isTransferring),add(exchangeDeliverableMessages,return)),if(canStartTransfer,if(or(notEqual(or(notEqual(canStartTransfer,canStartTransfer),not(canStartTransfer)),not(notEqual(isTransferring,canStartTransfer))),or(notEqual(notEqual(canStartTransfer,isTransferring),or(canStartTransfer,isTransferring)),notEqual(notEqual(canStartTransfer,canStartTransfer),notEqual(isTransferring,canStartTransfer)))),tryAllMessagesToAllConnections))),if(notEqual(or(isTransferring,isTransferring),or(canStartTransfer,canStartTransfer)),add(if(canStartTransfer,update),add(update,exchangeDeliverableMessages)))),if(notEqual(or(notEqual(canStartTransfer,canStartTransfer),not(canStartTransfer)),not(notEqual(canStartTransfer,canStartTransfer))),add(if(canStartTransfer,update),if(notEqual(canStartTransfer,canStartTransfer),if(notEqual(isTransferring,canStartTransfer),return)))))