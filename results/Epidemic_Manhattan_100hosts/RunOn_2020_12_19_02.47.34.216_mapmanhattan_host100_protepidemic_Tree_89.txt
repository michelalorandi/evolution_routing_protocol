add(if(or(isTransferring,not(or(canStartTransfer,isTransferring))),if(or(canStartTransfer,or(isTransferring,isTransferring)),if(not(canStartTransfer),tryAllMessagesToAllConnections))),add(add(if(notEqual(canStartTransfer,isTransferring),add(exchangeDeliverableMessages,return)),add(if(isTransferring,tryAllMessagesToAllConnections),tryAllMessagesToAllConnections)),tryAllMessagesToAllConnections))