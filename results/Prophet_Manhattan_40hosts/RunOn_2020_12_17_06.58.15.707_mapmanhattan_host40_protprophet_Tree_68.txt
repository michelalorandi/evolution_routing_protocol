add(if(notEqual(or(notEqual(canStartTransfer,isTransferring),notEqual(canStartTransfer,isTransferring)),or(canStartTransfer,or(isTransferring,isTransferring))),add(add(if(canStartTransfer,tryAllMessagesToAllConnections),if(isTransferring,update)),add(if(canStartTransfer,tryAllMessagesToAllConnections),if(isTransferring,update)))),if(notEqual(or(or(notEqual(canStartTransfer,canStartTransfer),isTransferring),notEqual(isTransferring,canStartTransfer)),or(notEqual(canStartTransfer,canStartTransfer),or(isTransferring,isTransferring))),add(if(notEqual(canStartTransfer,canStartTransfer),add(update,return)),add(if(canStartTransfer,exchangeDeliverableMessages),if(canStartTransfer,tryOtherMessages)))))