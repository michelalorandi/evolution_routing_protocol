if(or(not(notEqual(not(canStartTransfer),notEqual(isTransferring,isTransferring))),notEqual(or(not(canStartTransfer),or(isTransferring,isTransferring)),or(notEqual(isTransferring,isTransferring),or(isTransferring,canStartTransfer)))),add(if(or(not(canStartTransfer),or(isTransferring,canStartTransfer)),add(if(isTransferring,tryAllMessagesToAllConnections),add(exchangeDeliverableMessages,update))),if(or(or(canStartTransfer,canStartTransfer),not(canStartTransfer)),add(add(update,tryOtherMessages),if(isTransferring,exchangeDeliverableMessages)))))