if(notEqual(notEqual(or(notEqual(isTransferring,canStartTransfer),notEqual(canStartTransfer,isTransferring)),not(or(isTransferring,isTransferring))),not(notEqual(or(canStartTransfer,not(or(isTransferring,isTransferring))),or(canStartTransfer,canStartTransfer)))),add(if(or(notEqual(isTransferring,isTransferring),notEqual(isTransferring,canStartTransfer)),if(not(isTransferring),if(isTransferring,tryOtherMessages))),add(add(if(isTransferring,tryOtherMessages),if(isTransferring,exchangeDeliverableMessages)),add(if(notEqual(isTransferring,canStartTransfer),exchangeDeliverableMessages),add(exchangeDeliverableMessages,update)))))