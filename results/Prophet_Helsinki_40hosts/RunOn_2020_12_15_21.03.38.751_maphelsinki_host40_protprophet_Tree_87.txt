add(add(if(isTransferring,if(or(canStartTransfer,isTransferring),if(isTransferring,tryOtherMessages))),if(or(or(or(not(canStartTransfer),or(canStartTransfer,notEqual(canStartTransfer,canStartTransfer))),canStartTransfer),notEqual(isTransferring,isTransferring)),if(not(canStartTransfer),if(canStartTransfer,update)))),add(if(notEqual(notEqual(canStartTransfer,canStartTransfer),isTransferring),if(not(isTransferring),add(update,tryAllMessagesToAllConnections))),if(or(notEqual(canStartTransfer,canStartTransfer),notEqual(canStartTransfer,isTransferring)),add(exchangeDeliverableMessages,if(isTransferring,tryAllMessagesToAllConnections)))))