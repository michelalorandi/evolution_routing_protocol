add(if(notEqual(or(or(isTransferring,isTransferring),or(canStartTransfer,isTransferring)),notEqual(canStartTransfer,or(isTransferring,isTransferring))),add(if(or(canStartTransfer,canStartTransfer),add(tryOtherMessages,update)),if(notEqual(isTransferring,isTransferring),if(isTransferring,if(notEqual(or(or(isTransferring,canStartTransfer),or(isTransferring,isTransferring)),notEqual(canStartTransfer,notEqual(isTransferring,canStartTransfer))),add(if(notEqual(isTransferring,isTransferring),add(add(exchangeDeliverableMessages,tryOtherMessages),tryOtherMessages)),add(if(isTransferring,if(notEqual(isTransferring,or(canStartTransfer,isTransferring)),add(update,return))),if(isTransferring,exchangeDeliverableMessages)))))))),add(exchangeDeliverableMessages,return))