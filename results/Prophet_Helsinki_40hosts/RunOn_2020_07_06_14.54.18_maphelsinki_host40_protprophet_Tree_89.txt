if(or(or(or(not(isTransferring),notEqual(or(isTransferring,isTransferring),or(not(canStartTransfer),or(or(isTransferring,isTransferring),notEqual(canStartTransfer,isTransferring))))),isTransferring),or(canStartTransfer,not(notEqual(canStartTransfer,isTransferring)))),add(if(not(notEqual(canStartTransfer,canStartTransfer)),if(not(isTransferring),add(exchangeDeliverableMessages,update))),add(add(if(isTransferring,tryOtherMessages),add(update,update)),if(or(isTransferring,isTransferring),if(canStartTransfer,update)))))