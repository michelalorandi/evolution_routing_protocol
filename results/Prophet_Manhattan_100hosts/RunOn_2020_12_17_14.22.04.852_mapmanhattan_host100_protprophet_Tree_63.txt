if(notEqual(notEqual(or(notEqual(isTransferring,isTransferring),or(canStartTransfer,canStartTransfer)),or(or(canStartTransfer,canStartTransfer),or(isTransferring,isTransferring))),or(or(notEqual(canStartTransfer,canStartTransfer),or(canStartTransfer,canStartTransfer)),notEqual(notEqual(isTransferring,canStartTransfer),isTransferring))),add(if(or(or(isTransferring,canStartTransfer),not(isTransferring)),if(notEqual(canStartTransfer,isTransferring),add(exchangeDeliverableMessages,tryOtherMessages))),add(add(if(canStartTransfer,exchangeDeliverableMessages),if(isTransferring,return)),if(notEqual(isTransferring,canStartTransfer),if(isTransferring,exchangeDeliverableMessages)))))