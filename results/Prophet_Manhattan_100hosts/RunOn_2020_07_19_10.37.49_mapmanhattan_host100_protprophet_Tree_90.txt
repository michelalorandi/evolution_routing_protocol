add(if(or(notEqual(not(isTransferring),or(isTransferring,isTransferring)),or(or(canStartTransfer,isTransferring),isTransferring)),if(not(or(isTransferring,or(canStartTransfer,canStartTransfer))),add(if(isTransferring,return),if(canStartTransfer,exchangeDeliverableMessages)))),if(notEqual(notEqual(notEqual(canStartTransfer,canStartTransfer),or(isTransferring,isTransferring)),or(or(isTransferring,canStartTransfer),or(isTransferring,isTransferring))),add(if(or(isTransferring,isTransferring),if(canStartTransfer,update)),add(exchangeDeliverableMessages,tryOtherMessages))))