add(if(not(notEqual(not(canStartTransfer),notEqual(canStartTransfer,isTransferring))),tryAllMessagesToAllConnections),if(or(or(not(isTransferring),not(canStartTransfer)),or(or(not(canStartTransfer),or(canStartTransfer,isTransferring)),or(canStartTransfer,or(or(not(isTransferring),not(canStartTransfer)),or(or(isTransferring,canStartTransfer),or(canStartTransfer,isTransferring)))))),add(add(add(if(not(notEqual(canStartTransfer,isTransferring)),tryAllMessagesToAllConnections),exchangeDeliverableMessages),if(notEqual(isTransferring,or(isTransferring,canStartTransfer)),add(tryAllMessagesToAllConnections,update))),if(notEqual(isTransferring,canStartTransfer),add(tryAllMessagesToAllConnections,update)))))