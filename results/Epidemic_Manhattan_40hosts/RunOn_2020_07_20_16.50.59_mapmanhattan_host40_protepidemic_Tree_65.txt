if(or(notEqual(or(notEqual(canStartTransfer,isTransferring),not(isTransferring)),notEqual(or(isTransferring,isTransferring),not(isTransferring))),notEqual(or(not(canStartTransfer),not(isTransferring)),notEqual(or(canStartTransfer,canStartTransfer),notEqual(isTransferring,canStartTransfer)))),add(if(notEqual(not(isTransferring),notEqual(isTransferring,isTransferring)),if(not(isTransferring),if(canStartTransfer,exchangeDeliverableMessages))),tryAllMessagesToAllConnections))