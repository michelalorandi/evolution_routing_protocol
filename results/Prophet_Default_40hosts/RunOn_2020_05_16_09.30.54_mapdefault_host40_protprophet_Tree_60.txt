add(if(notEqual(or(or(canStartTransfer,canStartTransfer),canStartTransfer),or(not(canStartTransfer),not(isTransferring))),if(not(notEqual(isTransferring,isTransferring)),add(add(update,tryOtherMessages),if(canStartTransfer,exchangeDeliverableMessages)))),if(not(or(or(isTransferring,isTransferring),notEqual(isTransferring,isTransferring))),if(canStartTransfer,if(or(isTransferring,canStartTransfer),add(update,exchangeDeliverableMessages)))))