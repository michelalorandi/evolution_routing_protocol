if(or(or(not(isTransferring),or(not(canStartTransfer),or(isTransferring,canStartTransfer))),notEqual(notEqual(notEqual(isTransferring,canStartTransfer),not(canStartTransfer)),or(or(canStartTransfer,isTransferring),or(canStartTransfer,canStartTransfer)))),add(if(or(notEqual(isTransferring,canStartTransfer),or(canStartTransfer,canStartTransfer)),if(or(isTransferring,isTransferring),if(canStartTransfer,tryOtherMessages))),if(notEqual(notEqual(canStartTransfer,isTransferring),or(isTransferring,isTransferring)),add(if(canStartTransfer,exchangeDeliverableMessages),add(update,exchangeDeliverableMessages)))))